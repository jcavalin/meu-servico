webpackJsonp([1],{128:function(t,e){},129:function(t,e){},130:function(t,e,a){"use strict";var r=a(2),s=a(7),o=(a.n(s),a(0)),i=a.n(o);a(128),a(129),e.a={name:"home",data:function(){return{showDate:new Date,form:{feriado:null},lista:[],feriados:{get:function(){var t=r.a.get.item("feriados");return t=t||[]},add:function(t){var e=this.get();e.push(i()(t).format("YYYY-MM-DD")),r.a.set("feriados",e)},delete:function(t){var e=this.get();e.splice(e.indexOf(t),1),r.a.set("feriados",e)}}}},components:{QBtn:r.b,QIcon:r.f,QFixedPosition:r.e,QModal:r.m,QModalLayout:r.n,QToolbar:r.q,QInput:r.g,QDatetime:r.c,QFab:r.d,QPopover:r.o,QList:r.l,QItem:r.h},validations:{form:{feriado:{required:s.required}}},methods:{submit:function(){this.$v.form.$touch(),this.$v.form.$error||(this.incluirFeriado(this.form.feriado),this.limparForm(),this.$refs.feriadoModal.close())},incluirFeriado:function(t){this.feriados.add(t),this.lista=this.feriados.get()},excluirFeriado:function(t){this.feriados.delete(t),this.lista=this.feriados.get()},adicionarFeriado:function(){this.limparForm(),this.$refs.feriadoModal.open()},limparForm:function(){this.form={feriado:null}}},filters:{formatar:function(t){return i()(t).format("DD/MM/YYYY")}},mounted:function(){this.lista=this.feriados.get()}}},131:function(t,e,a){"use strict";var r=a(2);e.a={components:{QLayout:r.k,QList:r.l,QSideLink:r.p,QItemSide:r.j,QItemMain:r.i,QToolbar:r.q,QBtn:r.b,QIcon:r.f,QToolbarTitle:r.r},mounted:function(){this.$q.platform.is.desktop&&this.$refs.layout.toggleLeft()}}},132:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(5),s=a(2),o=a(138),i=a(168),n=a.n(i),l=a(170);a.n(l);a(133),r.a.use(n.a),r.a.config.productionTip=!1,r.a.use(s.s),new r.a({el:"#q-app",router:o.a,render:function(t){return t(a(172).default)},validations:{}})},133:function(t,e){},138:function(t,e,a){"use strict";var r=a(5),s=a(139),o=a(140),i=a(165);r.a.use(s.a),e.a=new s.a({routes:[{path:"/",component:o.a},{path:"/feriados/",component:i.a}]})},140:function(t,e,a){"use strict";function r(t){a(141)}var s=a(6),o=a(164),i=a(4),n=r,l=i(s.a,o.a,!1,n,null,null);e.a=l.exports},141:function(t,e){},162:function(t,e,a){function r(t){return a(s(t))}function s(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./af":9,"./af.js":9,"./ar":10,"./ar-dz":11,"./ar-dz.js":11,"./ar-kw":12,"./ar-kw.js":12,"./ar-ly":13,"./ar-ly.js":13,"./ar-ma":14,"./ar-ma.js":14,"./ar-sa":15,"./ar-sa.js":15,"./ar-tn":16,"./ar-tn.js":16,"./ar.js":10,"./az":17,"./az.js":17,"./be":18,"./be.js":18,"./bg":19,"./bg.js":19,"./bm":20,"./bm.js":20,"./bn":21,"./bn.js":21,"./bo":22,"./bo.js":22,"./br":23,"./br.js":23,"./bs":24,"./bs.js":24,"./ca":25,"./ca.js":25,"./cs":26,"./cs.js":26,"./cv":27,"./cv.js":27,"./cy":28,"./cy.js":28,"./da":29,"./da.js":29,"./de":30,"./de-at":31,"./de-at.js":31,"./de-ch":32,"./de-ch.js":32,"./de.js":30,"./dv":33,"./dv.js":33,"./el":34,"./el.js":34,"./en-au":35,"./en-au.js":35,"./en-ca":36,"./en-ca.js":36,"./en-gb":37,"./en-gb.js":37,"./en-ie":38,"./en-ie.js":38,"./en-nz":39,"./en-nz.js":39,"./eo":40,"./eo.js":40,"./es":41,"./es-do":42,"./es-do.js":42,"./es-us":43,"./es-us.js":43,"./es.js":41,"./et":44,"./et.js":44,"./eu":45,"./eu.js":45,"./fa":46,"./fa.js":46,"./fi":47,"./fi.js":47,"./fo":48,"./fo.js":48,"./fr":49,"./fr-ca":50,"./fr-ca.js":50,"./fr-ch":51,"./fr-ch.js":51,"./fr.js":49,"./fy":52,"./fy.js":52,"./gd":53,"./gd.js":53,"./gl":54,"./gl.js":54,"./gom-latn":55,"./gom-latn.js":55,"./gu":56,"./gu.js":56,"./he":57,"./he.js":57,"./hi":58,"./hi.js":58,"./hr":59,"./hr.js":59,"./hu":60,"./hu.js":60,"./hy-am":61,"./hy-am.js":61,"./id":62,"./id.js":62,"./is":63,"./is.js":63,"./it":64,"./it.js":64,"./ja":65,"./ja.js":65,"./jv":66,"./jv.js":66,"./ka":67,"./ka.js":67,"./kk":68,"./kk.js":68,"./km":69,"./km.js":69,"./kn":70,"./kn.js":70,"./ko":71,"./ko.js":71,"./ky":72,"./ky.js":72,"./lb":73,"./lb.js":73,"./lo":74,"./lo.js":74,"./lt":75,"./lt.js":75,"./lv":76,"./lv.js":76,"./me":77,"./me.js":77,"./mi":78,"./mi.js":78,"./mk":79,"./mk.js":79,"./ml":80,"./ml.js":80,"./mr":81,"./mr.js":81,"./ms":82,"./ms-my":83,"./ms-my.js":83,"./ms.js":82,"./mt":84,"./mt.js":84,"./my":85,"./my.js":85,"./nb":86,"./nb.js":86,"./ne":87,"./ne.js":87,"./nl":88,"./nl-be":89,"./nl-be.js":89,"./nl.js":88,"./nn":90,"./nn.js":90,"./pa-in":91,"./pa-in.js":91,"./pl":92,"./pl.js":92,"./pt":93,"./pt-br":94,"./pt-br.js":94,"./pt.js":93,"./ro":95,"./ro.js":95,"./ru":96,"./ru.js":96,"./sd":97,"./sd.js":97,"./se":98,"./se.js":98,"./si":99,"./si.js":99,"./sk":100,"./sk.js":100,"./sl":101,"./sl.js":101,"./sq":102,"./sq.js":102,"./sr":103,"./sr-cyrl":104,"./sr-cyrl.js":104,"./sr.js":103,"./ss":105,"./ss.js":105,"./sv":106,"./sv.js":106,"./sw":107,"./sw.js":107,"./ta":108,"./ta.js":108,"./te":109,"./te.js":109,"./tet":110,"./tet.js":110,"./th":111,"./th.js":111,"./tl-ph":112,"./tl-ph.js":112,"./tlh":113,"./tlh.js":113,"./tr":114,"./tr.js":114,"./tzl":115,"./tzl.js":115,"./tzm":116,"./tzm-latn":117,"./tzm-latn.js":117,"./tzm.js":116,"./uk":118,"./uk.js":118,"./ur":119,"./ur.js":119,"./uz":120,"./uz-latn":121,"./uz-latn.js":121,"./uz.js":120,"./vi":122,"./vi.js":122,"./x-pseudo":123,"./x-pseudo.js":123,"./yo":124,"./yo.js":124,"./zh-cn":125,"./zh-cn.js":125,"./zh-hk":126,"./zh-hk.js":126,"./zh-tw":127,"./zh-tw.js":127};r.keys=function(){return Object.keys(o)},r.resolve=s,t.exports=r,r.id=162},164:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{attrs:{id:"app"}},[a("h5",[t._v("Serviços")]),t._v(" "),a("calendar-view",{attrs:{"show-date":t.showDate,events:t.events},on:{"click-event":t.alterarEscala,setShowDate:t.setShowDate}})],1),t._v(" "),a("q-modal",{ref:"escalaModal",attrs:{"content-css":{minWidth:"50vw",minHeight:"55vh"}}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{attrs:{flat:""},on:{click:function(e){t.$refs.escalaModal.close()}}},[a("q-icon",{attrs:{name:"keyboard_arrow_left"}})],1),t._v(" "),a("div",{staticClass:"q-toolbar-title"},[t.form.id?a("span",[t._v("Atualizar escala")]):a("span",[t._v("Adicionar escala")])])],1),t._v(" "),a("div",{staticClass:"layout-padding"},[a("q-input",{attrs:{"float-label":"Nome da pessoa",error:t.$v.form.nome.$error},on:{blur:t.$v.form.nome.$touch,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submit(e)}},model:{value:t.form.nome,callback:function(e){t.$set(t.form,"nome",e)},expression:"form.nome"}}),t._v(" "),a("q-input",{attrs:{type:"number","float-label":"Quantidade de dias de folga",error:t.$v.form.folga.$error},on:{blur:t.$v.form.folga.$touch,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submit(e)}},model:{value:t.form.folga,callback:function(e){t.$set(t.form,"folga",e)},expression:"form.folga"}}),t._v(" "),a("q-datetime",{attrs:{type:"date","float-label":"Data da preta",format:"DD/MM/YYYY",error:t.$v.form.preta.$error},on:{blur:t.$v.form.preta.$touch,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submit(e)}},model:{value:t.form.preta,callback:function(e){t.$set(t.form,"preta",e)},expression:"form.preta"}}),t._v(" "),a("q-datetime",{attrs:{type:"date","float-label":"Data da vermelha",format:"DD/MM/YYYY",error:t.$v.form.vermelha.$error},on:{blur:t.$v.form.vermelha.$touch,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submit(e)}},model:{value:t.form.vermelha,callback:function(e){t.$set(t.form,"vermelha",e)},expression:"form.vermelha"}}),t._v(" "),a("q-btn",{staticClass:"full-width",attrs:{icon:"add",color:"primary"},on:{click:t.submit}},[t.form.id?a("span",[t._v("Alterar escala")]):a("span",[t._v("Incluir escala")])]),t._v(" "),t.form.id?a("q-btn",{staticClass:"full-width margin-top",attrs:{icon:"delete_forever",color:"negative"}},[a("span",[t._v("Excluir escala")]),t._v(" "),a("q-popover",{ref:"popover"},[a("q-list",{attrs:{separator:"",link:""}},[a("q-item",{on:{click:t.excluirEscala}},[t._v("\n                             Sim, excluir esta escala!\n                         ")])],1)],1)],1):t._e()],1)],1)],1),t._v(" "),a("q-fixed-position",{attrs:{corner:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{round:"",color:"primary",title:"Adicionar escala"},on:{click:t.adicionarEscala}},[a("q-icon",{attrs:{name:"add"}})],1)],1)],1)},s=[],o={render:r,staticRenderFns:s};e.a=o},165:function(t,e,a){"use strict";function r(t){a(166)}var s=a(130),o=a(167),i=a(4),n=r,l=i(s.a,o.a,!1,n,null,null);e.a=l.exports},166:function(t,e){},167:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"feriados"},[a("div",{attrs:{id:"app"}},[a("h5",[t._v("Feriados")]),t._v(" "),a("table",{staticClass:"q-table horizontal-separator striped-odd"},[t._m(0),t._v(" "),a("tbody",t._l(t.lista,function(e){return a("tr",[a("td",{staticClass:"text-center"},[t._v(t._s(t._f("formatar")(e)))]),t._v(" "),a("td",{staticClass:"text-center"},[a("q-btn",{attrs:{round:"",icon:"delete_forever",color:"negative"}},[a("q-popover",{ref:"popover",refInFor:!0},[a("q-list",{attrs:{separator:"",link:""}},[a("q-item",{on:{click:function(a){t.excluirFeriado(e)}}},[t._v("\n                                    Sim, excluir este feriado!\n                                ")])],1)],1)],1)],1)])}))])]),t._v(" "),a("q-modal",{ref:"feriadoModal",attrs:{"content-css":{minWidth:"50vw",minHeight:"55vh"}}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{attrs:{flat:""},on:{click:function(e){t.$refs.feriadoModal.close()}}},[a("q-icon",{attrs:{name:"keyboard_arrow_left"}})],1),t._v(" "),a("div",{staticClass:"q-toolbar-title"},[t._v("\n                    Adicionar feriado\n                ")])],1),t._v(" "),a("div",{staticClass:"layout-padding"},[a("q-datetime",{attrs:{type:"date","float-label":"Data do feriado",format:"DD/MM/YYYY",error:t.$v.form.feriado.$error},on:{blur:t.$v.form.feriado.$touch,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submit(e)}},model:{value:t.form.feriado,callback:function(e){t.$set(t.form,"feriado",e)},expression:"form.feriado"}}),t._v(" "),a("q-btn",{staticClass:"full-width",attrs:{icon:"add",color:"primary"},on:{click:t.submit}},[t._v("\n                    Incluir feriado\n                ")])],1)],1)],1),t._v(" "),a("q-fixed-position",{attrs:{corner:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{round:"",color:"primary",title:"Adicionar feriado"},on:{click:t.adicionarFeriado}},[a("q-icon",{attrs:{name:"add"}})],1)],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-center"},[t._v("Feriado")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("Ação")])])])}],o={render:r,staticRenderFns:s};e.a=o},171:function(t,e){},172:function(t,e,a){"use strict";function r(t){a(173)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(131),o=a(174),i=a(4),n=r,l=i(s.a,o.a,!1,n,null,null);e.default=l.exports},173:function(t,e){},174:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{ref:"layout",attrs:{view:"hHr LpR lFf","right-breakpoint":1100}},[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{attrs:{flat:""},on:{click:function(e){t.$refs.layout.toggleLeft()}}},[a("q-icon",{attrs:{name:"menu"}})],1),t._v(" "),a("q-toolbar-title",[t._v("\n      Meu serviço\n      "),a("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[t._v("0.1.0")])])],1),t._v(" "),a("div",{attrs:{slot:"left"},slot:"left"},[a("q-list",{attrs:{"no-border":"",link:"","inset-separator":""}},[a("q-side-link",{attrs:{item:"",to:"/"}},[a("q-item-side",{attrs:{icon:"assignment_ind"}}),t._v(" "),a("q-item-main",{attrs:{label:"Serviços",sublabel:"Calendário de escalas"}})],1),t._v(" "),a("q-side-link",{attrs:{item:"",to:"/feriados"}},[a("q-item-side",{attrs:{icon:"date_range"}}),t._v(" "),a("q-item-main",{attrs:{label:"Feriados",sublabel:"Contagem para vermelha"}})],1)],1)],1),t._v(" "),a("router-view")],1)},s=[],o={render:r,staticRenderFns:s};e.a=o},6:function(t,e,a){"use strict";var r=a(2),s=a(7),o=(a.n(s),a(0)),i=a.n(o),n=a(163),l=a.n(n);a(128),a(129),e.a={name:"home",data:function(){return{showDate:new Date,form:{id:null,nome:null,folga:null,preta:null,vermelha:null},escalas:{get:function(){var t=r.a.get.item("escalas");return t=t||[]},getById:function(t){var e=null;return this.get().forEach(function(a){if(a.id===t)return e=a}),e},add:function(t){t.id=Math.floor(999999999*Math.random())+1;var e=this.get();e.push(t),r.a.set("escalas",e)},update:function(t){var e=this.get();e.forEach(function(a,s){if(a.id===t.id)return e[s]=t,r.a.set("escalas",e),a})},delete:function(t){var e=this.get();e.splice(e.indexOf(t),1),r.a.set("escalas",e)}},feriados:{get:function(){var t=r.a.get.item("feriados");return t=t||["2018-01-01","2018-02-12","2018-02-13","2018-03-30","2018-04-21","2018-05-01","2018-05-31","2018-09-07","2018-10-12","2018-11-02","2018-11-15","2018-12-25","2019-01-01","2019-03-04","2019-03-05","2019-04-19","2019-04-21","2019-05-01","2019-06-20","2019-09-07","2019-10-12","2019-11-02","2019-11-15","2019-12-25","2020-01-01","2020-02-24","2020-02-25","2020-04-10","2020-04-21","2020-05-01","2020-06-11","2020-09-07","2020-10-12","2020-11-02","2020-11-15","2020-12-25"],r.a.set("feriados",t),t},is:function(t){return this.get().includes(i()(t).format("YYYY-MM-DD"))}},events:[]}},components:{CalendarView:l.a,QBtn:r.b,QIcon:r.f,QFixedPosition:r.e,QModal:r.m,QModalLayout:r.n,QToolbar:r.q,QInput:r.g,QDatetime:r.c,QFab:r.d,QPopover:r.o,QList:r.l,QItem:r.h},validations:{form:{nome:{required:s.required},folga:{required:s.required},preta:{required:s.required},vermelha:{required:s.required}}},methods:{setShowDate:function(t){this.showDate=t},submit:function(){this.$v.form.$touch(),this.$v.form.$error||(this.form.id?this.atualizarEscala(this.form):this.incluirEscala(this.form),this.limparForm(),this.$refs.escalaModal.close(),this.events=this.recuperarEventos())},excluirEscala:function(){this.escalas.delete(this.form),this.limparForm(),this.$refs.escalaModal.close(),this.events=this.recuperarEventos()},incluirEscala:function(t){this.escalas.add(t)},atualizarEscala:function(t){this.escalas.update(t)},calcularEscalas:function(){var t=this.calcularEscala,e=this.escalas.get(),a=[];return e.map(function(e,r){if(e.nome){var s=e;for(a.push(s);i()().add(1,"years").isAfter(s.preta);){var o=t(s);s={id:e.id,nome:e.nome,folga:e.folga,preta:o.preta,vermelha:o.vermelha},a.push(s)}}}),a},calcularEscala:function(t){var e=this.feriados;return{preta:function(t){for(var a=1,r=i()(t.preta).add(1,"days"),s=r.weekday();a<=t.folga||0===s||6===s||e.is(r);)0===s||6===s||e.is(r)||a++,r=i()(r).add(1,"days"),s=r.weekday();return r.toDate()}(t),vermelha:function(t){for(var a=1,r=i()(t.vermelha).add(1,"days"),s=r.weekday();a<=t.folga||0!==s&&6!==s&&!e.is(r);)(0===s||6===s||e.is(r))&&a++,r=i()(r).add(1,"days"),s=r.weekday();return r.toDate()}(t)}},recuperarEventos:function(){var t=[];return this.calcularEscalas().forEach(function(e){t.push({escala_id:e.id,title:e.nome,startDate:e.preta,classes:"preta"}),t.push({escala_id:e.id,title:e.nome,startDate:e.vermelha,classes:"vermelha"})}),t},adicionarEscala:function(){this.limparForm(),this.$refs.escalaModal.open()},alterarEscala:function(t){this.form=this.escalas.getById(t.escala_id),this.$refs.escalaModal.open()},limparForm:function(){this.form={id:null,nome:null,folga:null,preta:null,vermelha:null}}},mounted:function(){this.events=this.recuperarEventos(),this.feriados.get()}}}},[132]);