webpackJsonp([1],{10:function(a,t,e){"use strict";e.d(t,"a",function(){return i});var r=e(2),s=e(0),o=e.n(s);t.b={};var i={key:"feriados_dsc",get:function(){var a=r.a.get.item(this.key);return a=a||[{data:"2018-01-01",descricao:"Confraternização Universal"},{data:"2018-02-12",descricao:"Carnaval"},{data:"2018-02-13",descricao:"Carnaval"},{data:"2018-03-30",descricao:"Paixão de Cristo"},{data:"2018-04-21",descricao:"Tiradentes"},{data:"2018-05-01",descricao:"Dia do Trabalho"},{data:"2018-05-31",descricao:"Corpus Christi"},{data:"2018-09-07",descricao:"Independência do Brasil"},{data:"2018-10-12",descricao:"Nossa Sr.a Aparecida - Padroeira do Brasil"},{data:"2018-11-02",descricao:"Finados"},{data:"2018-11-15",descricao:"Proclamação da República"},{data:"2018-12-25",descricao:"Natal"},{data:"2019-01-01",descricao:"Confraternização Universal"},{data:"2019-03-04",descricao:"Carnaval"},{data:"2019-03-05",descricao:"Carnaval"},{data:"2019-04-19",descricao:"Paixão de Cristo"},{data:"2019-04-21",descricao:"Tiradentes"},{data:"2019-05-01",descricao:"Dia do Trabalho"},{data:"2019-06-20",descricao:"Corpus Christi"},{data:"2019-09-07",descricao:"Independência do Brasil"},{data:"2019-10-12",descricao:"Nossa Sr.a Aparecida - Padroeira do Brasil"},{data:"2019-11-02",descricao:"Finados"},{data:"2019-11-15",descricao:"Proclamação da República"},{data:"2019-12-25",descricao:"Natal"},{data:"2020-01-01",descricao:"Confraternização Universal"},{data:"2020-02-24",descricao:"Carnaval"},{data:"2020-02-25",descricao:"Carnaval"},{data:"2020-04-10",descricao:"Paixão de Cristo"},{data:"2020-04-21",descricao:"Tiradentes"},{data:"2020-05-01",descricao:"Dia do Trabalho"},{data:"2020-06-11",descricao:"Corpus Christi"},{data:"2020-09-07",descricao:"Independência do Brasil"},{data:"2020-10-12",descricao:"Nossa Sr.a Aparecida - Padroeira do Brasil"},{data:"2020-11-02",descricao:"Finados"},{data:"2020-11-15",descricao:"Proclamação da República"},{data:"2020-12-25",descricao:"Natal"}],r.a.set(this.key,a),a},add:function(a){a.data=o()(a.data).format("YYYY-MM-DD");var t=this.get();t.push(a),r.a.set(this.key,t)},delete:function(a){var t=this.get();t.splice(t.indexOf(a),1),r.a.set(this.key,t)},is:function(a){return this.get().map(function(a){return a.data}).includes(o()(a).format("YYYY-MM-DD"))}}},130:function(a,t,e){"use strict";e.d(t,"a",function(){return s});var r=e(2);t.b={};var s={key:"escalas",get:function(){var a=r.a.get.item(this.key);return a=a||[]},getById:function(a){var t=null;return this.get().forEach(function(e){if(e.id===a)return t=e}),t},add:function(a){a.id=Math.floor(999999999*Math.random())+1;var t=this.get();t.push(a),r.a.set(this.key,t)},update:function(a){var t=this.get();t.forEach(function(e,s){if(e.id===a.id)return t[s]=a,r.a.set(this.key,t),e})},delete:function(a){var t=this.get();t.splice(t.indexOf(a),1),r.a.set(this.key,t)}}},131:function(a,t){},132:function(a,t){},133:function(a,t,e){"use strict";var r=e(2),s=e(7),o=(e.n(s),e(9)),i=e(0),n=e.n(i);e(131),e(132),t.a={name:"feriados",data:function(){return{showDate:new Date,form:{data:null,descricao:null},lista:[],feriados:o.a}},components:{QBtn:r.b,QIcon:r.f,QFixedPosition:r.e,QModal:r.m,QModalLayout:r.n,QToolbar:r.q,QInput:r.g,QDatetime:r.c,QFab:r.d,QPopover:r.o,QList:r.l,QItem:r.h},validations:{form:{data:{required:s.required},descricao:{required:s.required}}},methods:{submit:function(){this.$v.form.$touch(),this.$v.form.$error||(this.incluirFeriado(this.form),this.limparForm(),this.$refs.feriadoModal.close())},incluirFeriado:function(a){this.feriados.add(a),this.lista=this.feriados.get()},excluirFeriado:function(a){this.feriados.delete(a),this.lista=this.feriados.get()},adicionarFeriado:function(){this.limparForm(),this.$refs.feriadoModal.open()},limparForm:function(){this.form={data:null,descricao:null}}},filters:{formatar:function(a){return n()(a).format("DD/MM/YYYY")}},mounted:function(){this.lista=this.feriados.get()}}},134:function(a,t,e){"use strict";var r=e(2);t.a={components:{QLayout:r.k,QList:r.l,QSideLink:r.p,QItemSide:r.j,QItemMain:r.i,QToolbar:r.q,QBtn:r.b,QIcon:r.f,QToolbarTitle:r.r},mounted:function(){this.$q.platform.is.desktop&&this.$refs.layout.toggleLeft()}}},135:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(5),s=e(2),o=e(141),i=e(172),n=e.n(i),l=e(174);e.n(l);e(136),r.a.use(n.a),r.a.config.productionTip=!1,r.a.use(s.s),new r.a({el:"#q-app",router:o.a,render:function(a){return a(e(176).default)},validations:{}})},136:function(a,t){},141:function(a,t,e){"use strict";var r=e(5),s=e(142),o=e(143),i=e(169);r.a.use(s.a),t.a=new s.a({routes:[{path:"/",component:o.a},{path:"/feriados/",component:i.a}]})},143:function(a,t,e){"use strict";function r(a){e(144)}var s=e(6),o=e(168),i=e(3),n=r,l=i(s.a,o.a,!1,n,null,null);t.a=l.exports},144:function(a,t){},165:function(a,t,e){function r(a){return e(s(a))}function s(a){var t=o[a];if(!(t+1))throw new Error("Cannot find module '"+a+"'.");return t}var o={"./af":11,"./af.js":11,"./ar":12,"./ar-dz":13,"./ar-dz.js":13,"./ar-kw":14,"./ar-kw.js":14,"./ar-ly":15,"./ar-ly.js":15,"./ar-ma":16,"./ar-ma.js":16,"./ar-sa":17,"./ar-sa.js":17,"./ar-tn":18,"./ar-tn.js":18,"./ar.js":12,"./az":19,"./az.js":19,"./be":20,"./be.js":20,"./bg":21,"./bg.js":21,"./bm":22,"./bm.js":22,"./bn":23,"./bn.js":23,"./bo":24,"./bo.js":24,"./br":25,"./br.js":25,"./bs":26,"./bs.js":26,"./ca":27,"./ca.js":27,"./cs":28,"./cs.js":28,"./cv":29,"./cv.js":29,"./cy":30,"./cy.js":30,"./da":31,"./da.js":31,"./de":32,"./de-at":33,"./de-at.js":33,"./de-ch":34,"./de-ch.js":34,"./de.js":32,"./dv":35,"./dv.js":35,"./el":36,"./el.js":36,"./en-au":37,"./en-au.js":37,"./en-ca":38,"./en-ca.js":38,"./en-gb":39,"./en-gb.js":39,"./en-ie":40,"./en-ie.js":40,"./en-nz":41,"./en-nz.js":41,"./eo":42,"./eo.js":42,"./es":43,"./es-do":44,"./es-do.js":44,"./es-us":45,"./es-us.js":45,"./es.js":43,"./et":46,"./et.js":46,"./eu":47,"./eu.js":47,"./fa":48,"./fa.js":48,"./fi":49,"./fi.js":49,"./fo":50,"./fo.js":50,"./fr":51,"./fr-ca":52,"./fr-ca.js":52,"./fr-ch":53,"./fr-ch.js":53,"./fr.js":51,"./fy":54,"./fy.js":54,"./gd":55,"./gd.js":55,"./gl":56,"./gl.js":56,"./gom-latn":57,"./gom-latn.js":57,"./gu":58,"./gu.js":58,"./he":59,"./he.js":59,"./hi":60,"./hi.js":60,"./hr":61,"./hr.js":61,"./hu":62,"./hu.js":62,"./hy-am":63,"./hy-am.js":63,"./id":64,"./id.js":64,"./is":65,"./is.js":65,"./it":66,"./it.js":66,"./ja":67,"./ja.js":67,"./jv":68,"./jv.js":68,"./ka":69,"./ka.js":69,"./kk":70,"./kk.js":70,"./km":71,"./km.js":71,"./kn":72,"./kn.js":72,"./ko":73,"./ko.js":73,"./ky":74,"./ky.js":74,"./lb":75,"./lb.js":75,"./lo":76,"./lo.js":76,"./lt":77,"./lt.js":77,"./lv":78,"./lv.js":78,"./me":79,"./me.js":79,"./mi":80,"./mi.js":80,"./mk":81,"./mk.js":81,"./ml":82,"./ml.js":82,"./mr":83,"./mr.js":83,"./ms":84,"./ms-my":85,"./ms-my.js":85,"./ms.js":84,"./mt":86,"./mt.js":86,"./my":87,"./my.js":87,"./nb":88,"./nb.js":88,"./ne":89,"./ne.js":89,"./nl":90,"./nl-be":91,"./nl-be.js":91,"./nl.js":90,"./nn":92,"./nn.js":92,"./pa-in":93,"./pa-in.js":93,"./pl":94,"./pl.js":94,"./pt":95,"./pt-br":96,"./pt-br.js":96,"./pt.js":95,"./ro":97,"./ro.js":97,"./ru":98,"./ru.js":98,"./sd":99,"./sd.js":99,"./se":100,"./se.js":100,"./si":101,"./si.js":101,"./sk":102,"./sk.js":102,"./sl":103,"./sl.js":103,"./sq":104,"./sq.js":104,"./sr":105,"./sr-cyrl":106,"./sr-cyrl.js":106,"./sr.js":105,"./ss":107,"./ss.js":107,"./sv":108,"./sv.js":108,"./sw":109,"./sw.js":109,"./ta":110,"./ta.js":110,"./te":111,"./te.js":111,"./tet":112,"./tet.js":112,"./th":113,"./th.js":113,"./tl-ph":114,"./tl-ph.js":114,"./tlh":115,"./tlh.js":115,"./tr":116,"./tr.js":116,"./tzl":117,"./tzl.js":117,"./tzm":118,"./tzm-latn":119,"./tzm-latn.js":119,"./tzm.js":118,"./uk":120,"./uk.js":120,"./ur":121,"./ur.js":121,"./uz":122,"./uz-latn":123,"./uz-latn.js":123,"./uz.js":122,"./vi":124,"./vi.js":124,"./x-pseudo":125,"./x-pseudo.js":125,"./yo":126,"./yo.js":126,"./zh-cn":127,"./zh-cn.js":127,"./zh-hk":128,"./zh-hk.js":128,"./zh-tw":129,"./zh-tw.js":129};r.keys=function(){return Object.keys(o)},r.resolve=s,a.exports=r,r.id=165},166:function(a,t,e){"use strict";var r=e(130);e.d(t,"a",function(){return r.a});var s=e(3),o=s(r.b,null,!1,null,null,null);o.exports},168:function(a,t,e){"use strict";var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"home"},[e("div",{attrs:{id:"app"}},[e("h5",[a._v("Serviços")]),a._v(" "),e("calendar-view",{attrs:{"show-date":a.showDate,events:a.events},on:{"click-event":a.alterarEscala,setShowDate:a.setShowDate}})],1),a._v(" "),e("q-modal",{ref:"escalaModal",attrs:{"content-css":{minWidth:"50vw",minHeight:"55vh"}}},[e("q-modal-layout",[e("q-toolbar",{attrs:{slot:"header"},slot:"header"},[e("q-btn",{attrs:{flat:""},on:{click:function(t){a.$refs.escalaModal.close()}}},[e("q-icon",{attrs:{name:"keyboard_arrow_left"}})],1),a._v(" "),e("div",{staticClass:"q-toolbar-title"},[a.form.id?e("span",[a._v("Atualizar escala")]):e("span",[a._v("Adicionar escala")])])],1),a._v(" "),e("div",{staticClass:"layout-padding"},[e("q-input",{attrs:{"float-label":"Nome da pessoa",error:a.$v.form.nome.$error},on:{blur:a.$v.form.nome.$touch,keyup:function(t){if(!("button"in t)&&a._k(t.keyCode,"enter",13,t.key))return null;a.submit(t)}},model:{value:a.form.nome,callback:function(t){a.$set(a.form,"nome",t)},expression:"form.nome"}}),a._v(" "),e("q-input",{attrs:{type:"number","float-label":"Quantidade de dias de folga",error:a.$v.form.folga.$error},on:{blur:a.$v.form.folga.$touch,keyup:function(t){if(!("button"in t)&&a._k(t.keyCode,"enter",13,t.key))return null;a.submit(t)}},model:{value:a.form.folga,callback:function(t){a.$set(a.form,"folga",t)},expression:"form.folga"}}),a._v(" "),e("q-datetime",{attrs:{type:"date","float-label":"Data da preta",format:"DD/MM/YYYY",error:a.$v.form.preta.$error},on:{blur:a.$v.form.preta.$touch,keyup:function(t){if(!("button"in t)&&a._k(t.keyCode,"enter",13,t.key))return null;a.submit(t)}},model:{value:a.form.preta,callback:function(t){a.$set(a.form,"preta",t)},expression:"form.preta"}}),a._v(" "),e("q-datetime",{attrs:{type:"date","float-label":"Data da vermelha",format:"DD/MM/YYYY",error:a.$v.form.vermelha.$error},on:{blur:a.$v.form.vermelha.$touch,keyup:function(t){if(!("button"in t)&&a._k(t.keyCode,"enter",13,t.key))return null;a.submit(t)}},model:{value:a.form.vermelha,callback:function(t){a.$set(a.form,"vermelha",t)},expression:"form.vermelha"}}),a._v(" "),e("q-btn",{staticClass:"full-width",attrs:{icon:"add",color:"primary"},on:{click:a.submit}},[a.form.id?e("span",[a._v("Alterar escala")]):e("span",[a._v("Incluir escala")])]),a._v(" "),a.form.id?e("q-btn",{staticClass:"full-width margin-top",attrs:{icon:"delete_forever",color:"negative"}},[e("span",[a._v("Excluir escala")]),a._v(" "),e("q-popover",{ref:"popover"},[e("q-list",{attrs:{separator:"",link:""}},[e("q-item",{on:{click:a.excluirEscala}},[a._v("\n                             Sim, excluir esta escala!\n                         ")])],1)],1)],1):a._e()],1)],1)],1),a._v(" "),e("q-fixed-position",{attrs:{corner:"bottom-right",offset:[18,18]}},[e("q-btn",{attrs:{round:"",color:"primary",title:"Adicionar escala"},on:{click:a.adicionarEscala}},[e("q-icon",{attrs:{name:"add"}})],1)],1)],1)},s=[],o={render:r,staticRenderFns:s};t.a=o},169:function(a,t,e){"use strict";function r(a){e(170)}var s=e(133),o=e(171),i=e(3),n=r,l=i(s.a,o.a,!1,n,null,null);t.a=l.exports},170:function(a,t){},171:function(a,t,e){"use strict";var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"feriados"},[e("div",{attrs:{id:"app"}},[e("h5",[a._v("Feriados")]),a._v(" "),e("table",{staticClass:"q-table horizontal-separator striped-odd"},[a._m(0),a._v(" "),e("tbody",a._l(a.lista,function(t){return e("tr",[e("td",{staticClass:"text-center"},[a._v(a._s(a._f("formatar")(t.data)))]),a._v(" "),e("td",{staticClass:"text"},[a._v(a._s(t.descricao))]),a._v(" "),e("td",{staticClass:"text-center"},[e("q-btn",{attrs:{round:"",icon:"delete_forever",color:"negative"}},[e("q-popover",{ref:"popover",refInFor:!0},[e("q-list",{attrs:{separator:"",link:""}},[e("q-item",{on:{click:function(e){a.excluirFeriado({data:t.data,descricao:t.descricao})}}},[a._v("\n                                    Sim, excluir este feriado!\n                                ")])],1)],1)],1)],1)])}))])]),a._v(" "),e("q-modal",{ref:"feriadoModal",attrs:{"content-css":{minWidth:"50vw",minHeight:"55vh"}}},[e("q-modal-layout",[e("q-toolbar",{attrs:{slot:"header"},slot:"header"},[e("q-btn",{attrs:{flat:""},on:{click:function(t){a.$refs.feriadoModal.close()}}},[e("q-icon",{attrs:{name:"keyboard_arrow_left"}})],1),a._v(" "),e("div",{staticClass:"q-toolbar-title"},[a._v("\n                    Adicionar feriado\n                ")])],1),a._v(" "),e("div",{staticClass:"layout-padding"},[e("q-datetime",{attrs:{type:"date","float-label":"Data do feriado",format:"DD/MM/YYYY",error:a.$v.form.data.$error},on:{blur:a.$v.form.data.$touch,keyup:function(t){if(!("button"in t)&&a._k(t.keyCode,"enter",13,t.key))return null;a.submit(t)}},model:{value:a.form.data,callback:function(t){a.$set(a.form,"data",t)},expression:"form.data"}}),a._v(" "),e("q-input",{attrs:{"float-label":"Descrição",error:a.$v.form.descricao.$error},on:{blur:a.$v.form.descricao.$touch,keyup:function(t){if(!("button"in t)&&a._k(t.keyCode,"enter",13,t.key))return null;a.submit(t)}},model:{value:a.form.descricao,callback:function(t){a.$set(a.form,"descricao",t)},expression:"form.descricao"}}),a._v(" "),e("q-btn",{staticClass:"full-width",attrs:{icon:"add",color:"primary"},on:{click:a.submit}},[a._v("\n                    Incluir feriado\n                ")])],1)],1)],1),a._v(" "),e("q-fixed-position",{attrs:{corner:"bottom-right",offset:[18,18]}},[e("q-btn",{attrs:{round:"",color:"primary",title:"Adicionar feriado"},on:{click:a.adicionarFeriado}},[e("q-icon",{attrs:{name:"add"}})],1)],1)],1)},s=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("thead",[e("tr",[e("th",{staticClass:"text-center"},[a._v("Data")]),a._v(" "),e("th",{staticClass:"text-center"},[a._v("Descrição")]),a._v(" "),e("th",{staticClass:"text-center"},[a._v("Excluir")])])])}],o={render:r,staticRenderFns:s};t.a=o},175:function(a,t){},176:function(a,t,e){"use strict";function r(a){e(177)}Object.defineProperty(t,"__esModule",{value:!0});var s=e(134),o=e(178),i=e(3),n=r,l=i(s.a,o.a,!1,n,null,null);t.default=l.exports},177:function(a,t){},178:function(a,t,e){"use strict";var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("q-layout",{ref:"layout",attrs:{view:"hHr LpR lFf","right-breakpoint":1100}},[e("q-toolbar",{attrs:{slot:"header"},slot:"header"},[e("q-btn",{attrs:{flat:""},on:{click:function(t){a.$refs.layout.toggleLeft()}}},[e("q-icon",{attrs:{name:"menu"}})],1),a._v(" "),e("q-toolbar-title",[a._v("\n      Meu serviço\n      "),e("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[a._v("0.1.1")])])],1),a._v(" "),e("div",{attrs:{slot:"left"},slot:"left"},[e("q-list",{attrs:{"no-border":"",link:"","inset-separator":""}},[e("q-side-link",{attrs:{item:"",to:"/"}},[e("q-item-side",{attrs:{icon:"assignment_ind"}}),a._v(" "),e("q-item-main",{attrs:{label:"Serviços",sublabel:"Calendário de escalas"}})],1),a._v(" "),e("q-side-link",{attrs:{item:"",to:"/feriados"}},[e("q-item-side",{attrs:{icon:"date_range"}}),a._v(" "),e("q-item-main",{attrs:{label:"Feriados",sublabel:"Contagem para vermelha"}})],1)],1)],1),a._v(" "),e("router-view")],1)},s=[],o={render:r,staticRenderFns:s};t.a=o},6:function(a,t,e){"use strict";var r=e(2),s=e(7),o=(e.n(s),e(9)),i=e(166),n=e(0),l=e.n(n),c=e(167),d=e.n(c);e(131),e(132),t.a={name:"home",data:function(){return{showDate:new Date,form:{id:null,nome:null,folga:null,preta:null,vermelha:null},escalas:i.a,feriados:o.a,events:[]}},components:{CalendarView:d.a,QBtn:r.b,QIcon:r.f,QFixedPosition:r.e,QModal:r.m,QModalLayout:r.n,QToolbar:r.q,QInput:r.g,QDatetime:r.c,QFab:r.d,QPopover:r.o,QList:r.l,QItem:r.h},validations:{form:{nome:{required:s.required},folga:{required:s.required},preta:{required:s.required},vermelha:{required:s.required}}},methods:{setShowDate:function(a){this.showDate=a},submit:function(){this.$v.form.$touch(),this.$v.form.$error||(this.form.id?this.atualizarEscala(this.form):this.incluirEscala(this.form),this.limparForm(),this.$refs.escalaModal.close(),this.events=this.recuperarEventos())},excluirEscala:function(){this.escalas.delete(this.form),this.limparForm(),this.$refs.escalaModal.close(),this.events=this.recuperarEventos()},incluirEscala:function(a){this.escalas.add(a)},atualizarEscala:function(a){this.escalas.update(a)},calcularEscalas:function(){var a=this.calcularEscala,t=this.escalas.get(),e=[];return t.map(function(t,r){if(t.nome){var s=t;for(e.push(s);l()().add(1,"years").isAfter(s.preta);){var o=a(s);s={id:t.id,nome:t.nome,folga:t.folga,preta:o.preta,vermelha:o.vermelha},e.push(s)}}}),e},calcularEscala:function(a){var t=this.feriados;return{preta:function(a){for(var e=1,r=l()(a.preta).add(1,"days"),s=r.weekday();e<=a.folga||0===s||6===s||t.is(r);)0===s||6===s||t.is(r)||e++,r=l()(r).add(1,"days"),s=r.weekday();return r.toDate()}(a),vermelha:function(a){for(var e=1,r=l()(a.vermelha).add(1,"days"),s=r.weekday();e<=a.folga||0!==s&&6!==s&&!t.is(r);)(0===s||6===s||t.is(r))&&e++,r=l()(r).add(1,"days"),s=r.weekday();return r.toDate()}(a)}},recuperarEventos:function(){var a=[];return this.calcularEscalas().forEach(function(t){a.push({escala_id:t.id,title:t.nome,startDate:t.preta,classes:"preta"}),a.push({escala_id:t.id,title:t.nome,startDate:t.vermelha,classes:"vermelha"})}),a},adicionarEscala:function(){this.limparForm(),this.$refs.escalaModal.open()},alterarEscala:function(a){this.form=this.escalas.getById(a.escala_id),this.$refs.escalaModal.open()},limparForm:function(){this.form={id:null,nome:null,folga:null,preta:null,vermelha:null}}},mounted:function(){this.events=this.recuperarEventos(),this.feriados.get()}}},9:function(a,t,e){"use strict";var r=e(10);e.d(t,"a",function(){return r.a});var s=e(3),o=s(r.b,null,!1,null,null,null);o.exports}},[135]);